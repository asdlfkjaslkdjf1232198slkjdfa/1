<!DOCTYPE html><html class="no-js" lang="es-ES"><head><meta http-equiv="content-type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" ><link rel="profile" href="http://gmpg.org/xfn/11"><link type="text/css" media="all" href="https://mierda.tv/wp-contenido/cache/autoptimize/css/autoptimize_dcbc99a7d03052a28dbf604173960da0.css" rel="stylesheet" /><title>Tuberías, dobles tuberías, bifurcaciones y múltiples argumentos &#8211; [ MIERDA TV ]</title><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Feed" href="https://mierda.tv/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; RSS de los comentarios" href="https://mierda.tv/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Tuberías, dobles tuberías, bifurcaciones y múltiples argumentos RSS de los comentarios" href="https://mierda.tv/2018/01/31/tuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos/feed/" /><link rel='stylesheet' id='mcluhan-fonts-css'  href='https://fonts.googleapis.com/css?family=Archivo:400,400i,600,600i,700,700i&#038;subset=latin-ext' type='text/css' media='all' /> <script type='text/javascript' src='https://mierda.tv/wp-includes/js/jquery/jquery.js'></script> <link rel='https://api.w.org/' href='https://mierda.tv/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mierda.tv/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://mierda.tv/wp-includes/wlwmanifest.xml" /><link rel='prev' title='Desactivar el sonido en GNU/Linux &#8211; También para otros dispositivos' href='https://mierda.tv/2018/01/30/desactivar-el-sonido-en-gnu-linux-u-otros-perifericos/' /><link rel='next' title='Manejar módulos del Kernel y compilar uno fresco de kernel.org' href='https://mierda.tv/2018/01/31/manejar-modulos-del-kernel-y-compilar-uno-fresco-de-kernel-org/' /><meta name="generator" content="WordPress 4.9.8" /><link rel="canonical" href="https://mierda.tv/2018/01/31/tuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos/" /><link rel='shortlink' href='https://mierda.tv/?p=5716' /><link rel="alternate" type="application/json+oembed" href="https://mierda.tv/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmierda.tv%2F2018%2F01%2F31%2Ftuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos%2F" /> <script>jQuery( 'html' ).removeClass( 'no-js' ).addClass( 'js' );</script> <link rel="icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon-1.png" type="image/png"/><link rel="shortcut icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon.png" /></head><body class="post-template-default single single-post postid-5716 single-format-standard"><header class="site-header group"><h1 class="site-title"><a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></h1><p class="site-description">NSFW Fanta text files</p><div class="nav-toggle"><div class="bar"></div><div class="bar"></div></div><div class="menu-wrapper"><ul class="main-menu desktop"><li id="menu-item-9007" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li id="menu-item-9006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li id="menu-item-9008" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li id="menu-item-9012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li id="menu-item-9011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li id="menu-item-9010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li></ul></div><ul class="social-menu desktop"><li><a href="https://mierda.tv/?s="></a></li><li id="menu-item-10588" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></header><div class="mobile-menu-wrapper"><ul class="main-menu mobile"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li><li class="toggle-mobile-search-wrapper"><a href="#" class="toggle-mobile-search">Buscar</a></li></ul><ul class="social-menu mobile"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></div><div class="mobile-search"><div class="untoggle-mobile-search"></div><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab602a446b5"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab602a446b5" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form><div class="mobile-results"><div class="results-wrapper"></div></div></div><div class="search-overlay"><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab602a4474f"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab602a4474f" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form></div><main class="site-content"><article class="post-5716 post type-post status-publish format-standard hentry category-sistemas missing-thumbnail"><header class="entry-header section-inner"><h1 class="entry-title">Tuberías, dobles tuberías, bifurcaciones y múltiples argumentos</h2><div class="meta"> <time><a href="https://mierda.tv/2018/01/31/tuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos/" title="31 enero, 2018 1:31 am">31 enero, 2018</a></time> <span> En <a href="https://mierda.tv/category/sistemas/" rel="category tag"># SYSTEM</a> </span></div></header><div class="entry-content section-inner"><p>Gracias a las pipe (tuberías) podemos en GNU/Linux hacer de fontaneros y hacer que la información salga por un sitio y entre por otro u otros.</p><p>Las pipes o tuberías se escriben normalmente con alt gr + 1 y tendríamos que ver &#8220;|&#8221; (sin las dobles comillas).</p><p>por ejemplo con una tubería podemos hacer que la salida de un comando sea la entrada de otro y así poder ir encadenando y procesando información. Veamos un ejemplo sencillote:</p><pre>
$ echo "hola mundo mundial" | wc -w
</pre><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/tee4-1.png" alt="" width="612" height="217" class="alignnone size-full wp-image-5725" /></p><p>La salida es 3 en vez de ser &#8220;hola mundo mundial&#8221;.<br /> <strong>¿Qué ha pasado?</strong> Pues que la salida de echo ha sido &#8220;entubada&#8221; gracias a la pipe que hemos colocado a la entrada del comando wc (wc con el argumento -w cuenta las palabras de lo que le venga por la entrada) y este tras procesar nos ha dado como resultado: 3. 3 palabras tiene esa frase.</p><p>Veamos otro ejemplo en el que queremos ver los usuarios de un sistema que utilizan la shell fish:</p><pre>
$ grep "/bin/bash" /etc/passwd | wc -l
</pre><p>Eso nos sacará las líneas que contienen &#8220;/bin/bash&#8221; en el archivo /etc/passwd y se lo pasará a la entrada de wc que con el argumento -l contará las líneas.</p><p>Y un tercer ejemplo encadenando varias tuberías:</p><pre>
$ grep "/bin/bash" /etc/passwd | cut -d ":" -f 1 | tr "\n" ";"
</pre><p>En este la salida has de entenderla si te digo que el archivo /etc/passwd tiene valores separados por : de modo que cut -d &#8220;:&#8221; -f 1 cortará todas las líneas cuando encuentre el primer : de cada línea y eso por tanto nos deja solamente el nombre de los usuarios que coincidan con el filtro &#8220;/bin/bash&#8221;. Eso tendría que sacar en ese punto x líneas con los nombres de los diferentes usuarios que tienen asignada la shell bash pero como lo entubamos de nuevo va a sustituir tr el retorno de carro por un ; de modo que ya no nos salen 3 o x líneas, nos saldrá un churro con los nombres de los usuarios separados por ;.</p><p>Un poco más de tuberías:</p><pre>
$ grep "/bin/bash" /etc/passwd | cut -d ":" -f 1 | tr "\n" ";" | rev | cut -d ";" -f 2-100 | rev
</pre><p>Esta vez con rev le damos la vuelta a la cadena que nos viene con los nombres de usuario separados por ; ya que queremos eliminar el último ; de esa cadena. Eso lo hacemos cortando de nuevo y luego volteando una vez más el resultado.</p><p># Dobles tuberías</p><p>Veamos un ejemplo de una doble tubería y que significa esto.</p><pre>
$ ls shit.log || echo "has de crear el archivo shit.log"
</pre><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/doble.png" alt="" width="800" height="154" class="alignnone size-full wp-image-5727" /></p><p>ls shit.log tendría que mostrarnos el nombre del archivo shit.log si es que existe en el directorio actual. No existe y por tanto muestra su mensaje pero al meterle una tubería doble tambien ejecutará lo que pongamos tras la tubería. En este caso mostrará el texto &#8220;has de crear el archivo shit.log&#8221;</p><p>Otra opción es que si ls shit.log no obtiene resultado el segundo comando sea touch shit.log , es decir, si no existe el archivo crea el archivo.</p><p>La segunda parte de las dobles tuberías solamente se ejecutará si la salida del primer comando es 0.</p><p><strong># Bifurcaciones</strong></p><ul><li><strong>tee</strong></li></ul><p>Con tee podemos por ejemplo guardar una copia de la salida estándar de un comando en un archivo al mismo tiempo que esta se imprime en pantalla. Tee divide la entrada estándar para que se muestre en la salida estándar y en los archivos que necesitemos.</p><p><img class="alignnone size-full wp-image-5719" src="https://mierda.tv/wp-contenido/uploads/2018/01/tee.png" alt="" width="682" height="105" /></p><p>En esta otra captura se puede ver que se usa cat en vez de echo y se usa tee para dejar copia en varios archivos:</p><p><img class="alignnone size-full wp-image-5720" src="https://mierda.tv/wp-contenido/uploads/2018/01/tee2.png" alt="" width="827" height="333" /></p><p>&nbsp;</p><p><strong># Paso de múltiples argumentos a comandos</strong></p><ul><li><strong>xargs</strong></li></ul><p>xargs es de mucha utilidad. Ahora veremos que cosas se pueden hacer.  Con el comando find podemos buscar todos los archivos con extensión .txt del directorio actual. Podemos hacerlo así:</p><pre>
$ find . -name "*.txt"
</pre><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/tee3.png" alt="" width="454" height="135" class="alignnone size-full wp-image-5721" /></p><p>A esto le podemos sumar que el listado que encuentra find de archivos lo guarde en lista.log tee y siga mostrando la salida de los archivos.</p><pre>
$ find . -name "*.txt" | tee -a lista.log
</pre><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/tee4.png" alt="" width="612" height="217" class="alignnone size-full wp-image-5723" /></p><p>La opción -a de tee es para que añada de nuevo el listado de archivos en lista.log y no los sobrescriba (aunque sinceramente voy a omitir esto en el siguiente paso para que si sobrescriba. Era solamente por comentarlo)</p><p>Y ahora es cuando entra en juego xargs para por ejemplo borrar todos los archivos que tienen extensión .txt del directorio actual. Juntaremos todo para que nos quede un log de los archivos que existían antes de borrarse, es decir, un log de los archivos que han sido borrados.</p><pre>
$ find . -name "*.txt" | tee lista.log | xargs rm
</pre><p>Si hiciésemos un ls ya no existirán los archivos .txt pero si lista.log y en su interior el nombre de los archivos que hemos borrado.</p><p>Hemos concatenado find + tee + rm y hemos obtenido una forma de borrar diferentes archivos quedándonos con el informe de los que han sido borrados.</p><div class='rp4wp-related-posts'><h3>Más mierda posiblemente relacionada</h3><ul><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2016/08/03/empaquetar-un-directorio-en-volumenes/'>Empaquetar un directorio en volúmenes</a><p>Empaquetar un directorio en volúmenes de 950Mb tar -cv dir/ | split -b 950MB -&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2016/11/22/comprobar-caducidad-certificados/'>Comprobar caducidad certificados</a><p>Un sencillo script para comprobar la fecha de caducidad de determinados certificados https pasando una&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/01/13/10-juegos-de-super-nintendo-para-jugar-a-dobles/'>10 juegos de Super Nintendo para jugar a dobles</a><p>Existen bastantes más pero esta es un recopilación que es ideal para un día de&hellip;</p></div></li></ul></div></div><div class="post-pagination section-inner"><div class="previous-post"> <a href="https://mierda.tv/2018/01/30/desactivar-el-sonido-en-gnu-linux-u-otros-perifericos/" rel="prev"><span>Desactivar el sonido en GNU/Linux &#8211; También para otros dispositivos</span></a></div><div class="next-post"> <a href="https://mierda.tv/2018/01/31/manejar-modulos-del-kernel-y-compilar-uno-fresco-de-kernel-org/" rel="next"><span>Manejar módulos del Kernel y compilar uno fresco de kernel.org</span></a></div></div><div class="section-inner wide"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2018/01/31/tuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos/#respond" style="display:none;">Cancelar respuesta</a></small></h3><form action="https://mierda.tv/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comentario</label><textarea autocomplete="nope"  id="8ea2cdef0a"  name="8ea2cdef0a"   cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="padding:0;clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "645c2ddf8a026a6e039ef2d003d39e9d" );document.getElementById("8ea2cdef0a").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p><p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p><p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Publicar comentario" /> <input type='hidden' name='comment_post_ID' value='5716' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></p></form></div></div></div><footer class="site-footer section-inner"><p class="copyright">&copy; 2018 <a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></p></footer></main> <script type="text/javascript">jQuery(document).ready( function() { jQuery.post( "https://mierda.tv/wp-admin/admin-ajax.php", { action : "entry_views", _ajax_nonce : "70537a5d8f", post_id : 5716 } ); } );</script> <script type='text/javascript'>var es_widget_page_notices = {"es_email_notice":"Por favor introduce direcci\u00f3n de correo electr\u00f3nico","es_success_message":"Suscripci\u00f3n correcta.","es_success_notice":"\u00a1Suscripci\u00f3n correcta! Consulta tu bandeja de entrada y confirma tu suscripci\u00f3n. Si no ves el correo en unos minutos, consulta la carpeta spam\/correo no deseado.","es_email_exists":"\u00a1Esa direcci\u00f3n de correo electr\u00f3nico ya existe!","es_error":"Ups. Ha sucedido un error inesperado.","es_invalid_email":"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida","es_try_later":"Por favor, int\u00e9ntalo transcurridos unos minutos","es_ajax_url":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php"};</script> <script type='text/javascript'>var mcluhan_ajaxpagination = {"ajaxurl":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php","query_vars":"{\"page\":\"\",\"year\":\"2018\",\"monthnum\":\"01\",\"day\":\"31\",\"name\":\"tuberias-dobles-tuberias-bifurcaciones-y-multiples-argumentos\"}"};</script> <script type="text/javascript" defer src="https://mierda.tv/wp-contenido/cache/autoptimize/js/autoptimize_0f440c40192207511c15447e1fc97710.js"></script></body></html>