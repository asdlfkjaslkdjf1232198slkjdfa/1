<!DOCTYPE html><html class="no-js" lang="es-ES"><head><meta http-equiv="content-type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" ><link rel="profile" href="http://gmpg.org/xfn/11"><link type="text/css" media="all" href="https://mierda.tv/wp-contenido/cache/autoptimize/css/autoptimize_dcbc99a7d03052a28dbf604173960da0.css" rel="stylesheet" /><title>Programando con Love 2D &#8211; Control de la velocidad de objetos &#8211; [ MIERDA TV ]</title><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Feed" href="https://mierda.tv/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; RSS de los comentarios" href="https://mierda.tv/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Programando con Love 2D &#8211; Control de la velocidad de objetos RSS de los comentarios" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/feed/" /><link rel='stylesheet' id='mcluhan-fonts-css'  href='https://fonts.googleapis.com/css?family=Archivo:400,400i,600,600i,700,700i&#038;subset=latin-ext' type='text/css' media='all' /> <script type='text/javascript' src='https://mierda.tv/wp-includes/js/jquery/jquery.js'></script> <link rel='https://api.w.org/' href='https://mierda.tv/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mierda.tv/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://mierda.tv/wp-includes/wlwmanifest.xml" /><link rel='prev' title='Ver canales de Televisión Española en el vlc' href='https://mierda.tv/2018/01/01/ver-canales-de-television-espanola-en-el-vlc/' /><link rel='next' title='Programando con Love 2D &#8211; Mostrar imagen centrada' href='https://mierda.tv/2018/01/02/programando-con-love-2d-mostrar-imagen-centrada/' /><meta name="generator" content="WordPress 4.9.8" /><link rel="canonical" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/" /><link rel='shortlink' href='https://mierda.tv/?p=4759' /><link rel="alternate" type="application/json+oembed" href="https://mierda.tv/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmierda.tv%2F2018%2F01%2F02%2Fprogramando-con-love-2d-control-de-la-velocidad-de-objetos%2F" /> <script>jQuery( 'html' ).removeClass( 'no-js' ).addClass( 'js' );</script> <link rel="icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon-1.png" type="image/png"/><link rel="shortcut icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon.png" /></head><body class="post-template-default single single-post postid-4759 single-format-standard"><header class="site-header group"><h1 class="site-title"><a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></h1><p class="site-description">NSFW Fanta text files</p><div class="nav-toggle"><div class="bar"></div><div class="bar"></div></div><div class="menu-wrapper"><ul class="main-menu desktop"><li id="menu-item-9007" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li id="menu-item-9006" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li id="menu-item-9008" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li id="menu-item-9012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li id="menu-item-9011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li id="menu-item-9010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li></ul></div><ul class="social-menu desktop"><li><a href="https://mierda.tv/?s="></a></li><li id="menu-item-10588" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></header><div class="mobile-menu-wrapper"><ul class="main-menu mobile"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li><li class="toggle-mobile-search-wrapper"><a href="#" class="toggle-mobile-search">Buscar</a></li></ul><ul class="social-menu mobile"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></div><div class="mobile-search"><div class="untoggle-mobile-search"></div><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab6043a16e2"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab6043a16e2" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form><div class="mobile-results"><div class="results-wrapper"></div></div></div><div class="search-overlay"><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab6043a178c"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab6043a178c" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form></div><main class="site-content"><article class="post-4759 post type-post status-publish format-standard hentry category-codigo category-juegos missing-thumbnail"><header class="entry-header section-inner"><h1 class="entry-title">Programando con Love 2D &#8211; Control de la velocidad de objetos</h2><div class="meta"> <time><a href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/" title="2 enero, 2018 4:26 pm">2 enero, 2018</a></time> <span> En <a href="https://mierda.tv/category/codigo/" rel="category tag"># CODE</a>, <a href="https://mierda.tv/category/juegos/" rel="category tag"># GAMES</a> </span></div></header><div class="entry-content section-inner"><p>Hasta ahora no hemos visto como controlar la velocidad de los objetos que colocamos. Hemos visto varias entradas sobre como hacer cositas con Love2D pero no hemos controlado aún la velocidad. Es el momento de hacerlo supongo.</p><p>Si te interesan otros artículos sobre Love2D puedes mirar estos anteriores:</p><p>* <a href="https://mierda.tv/2017/12/30/programando-con-love-2d-ejemplos-de-animacion-i/">Programando con Love 2D &#8211; Ejemplos de animación I</a><br /> * <a href="https://mierda.tv/2017/12/30/programando-con-love-2d-rectangulos-de-colores-en-movimiento/">Programando con Love 2D &#8211; Rectángulos de colores en movimiento</a><br /> * <a href="https://mierda.tv/2017/12/30/programando-con-love-2d-moviendo-rectangulos-con-el-teclado/">Programando con Love 2D &#8211; Moviendo rectángulos con el teclado</a><br /> * <a href="https://mierda.tv/2017/12/19/love-reproducir-ogg-y-mostrar-texto-con-una-tipografia-ttf/">Programando con Love 2D &#8211; Reproducir ogg y mostrar texto con una tipografía ttf</a></p><p>Comenzamos directamente con un ejemplo en el que <strong>un ferrari se ha de mover más rápido que un seat panda</strong>. para ello vamos a dibujar 2 rectángulos de color rojo para el ferrari y de color verde para el seat panda.</p><p>Veamos un gif animado (que no refleja como realmente se mueve pero nos hacemos una idea) y luego el código:</p><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/ferrari-seat.gif" alt="" width="1366" height="768" class="alignnone size-full wp-image-4763" /></p><pre>
function love.load()
        ferrari = {}
        ferrari.x = 1   -- position x
        ferrari.y = 100 -- position y
        ferrari.w = 50  -- width
        ferrari.h = 20  -- height
        ferrari.s = 70  -- speed
        ferrari.r = 255 -- value red color
        ferrari.g = 0   -- value green color
        ferrari.b = 0   -- value blue color

        seat = {}
        seat.x = 1      -- position x
        seat.y = 200    -- position y
        seat.w = 40     -- width
        seat.h = 20     -- height
        seat.s = 50     -- speed
        seat.r = 0      -- value red color
        seat.g = 255    -- value green color
        seat.b = 0      -- value blue color

end

function love.update(dt)
        ferrari.x = ferrari.x + ferrari.s * dt
        seat.x = seat.x + seat.s * dt
end

function love.draw()
        love.graphics.setColor(ferrari.r, ferrari.g, ferrari.b) -- set ferrari color
        love.graphics.rectangle("fill", ferrari.x, ferrari.y, ferrari.w, ferrari.h)

        love.graphics.setColor(seat.r, seat.g, seat.b) -- set seat color
        love.graphics.rectangle("fill", seat.x, seat.y, seat.w, seat.h)
end
</pre><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/coloreado.png" alt="" width="1366" height="768" class="alignnone size-full wp-image-4765" /></p><p>Vamos a fijar nuestra vista en el objeto ferrari y sus variables de propiedades.</p><pre>
        ferrari = {}
        ferrari.x = 1   -- position x
        ferrari.y = 100 -- position y
        ferrari.w = 50  -- width
        ferrari.h = 20  -- height
        ferrari.s = 70  -- speed
        ferrari.r = 255 -- value red color
        ferrari.g = 0   -- value green color
        ferrari.b = 0   -- value blue color
</pre><p>Le he añadido valores para las propiedades x,y,w,h,s,r,g y b . Son inventadas. Podrían llamarse green en vez de g o exis en vez de x. La idea es que los objetos similares (coches en este caso) tengan las mismas y se llamen igual. El valor luego de las variables es lo que cambiamos.</p><p>Por ejemplo hemos puesto el ferrari en la posición x1 y100 y le hemos indicado que tenga una velocidad de 70.</p><p>Con el seat hemos colocado otra velocidad inferior.</p><p>Hemos de prestar atención por tanto a la funcion callback love.update.</p><pre>
function love.update(dt)
        ferrari.x = ferrari.x + ferrari.s * dt
        seat.x = seat.x + seat.s * dt
end
</pre><p>En ella estamos usando dt (delta time) que será el tiempo real que transcurre entre un frame y otro. La función callback love.update a diferencia de la función love.load no se ejecuta una vez. love.update estará todo el rato ejecutándose y es por eso el loop que usamos para ir cambiando la posición x de los coches.</p><p>Y poco más que contar. Con eso ya sabríamos mover a diferente velocidad objetos en pantalla y al mismo tiempo saber declararlos con sus propiedades y valores.</p><p>Añade si quieres un tercer coche :).</p><div class='rp4wp-related-posts'><h3>Más mierda posiblemente relacionada</h3><ul><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/06/29/recopilacion-programar-juegos-con-love2d/'>Recopilación - Programar juegos con Love2D</a><p>Lua es una maravilla. Love2D es otra. Programar juegos usando love2d es muy sencillo y&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/01/02/programando-con-love-2d-mostrar-imagen-centrada/'>Programando con Love 2D - Mostrar imagen centrada</a><p>Mostrar una imagen con Love 2D en pantalla es sencillo (jpg, png, ...). La función&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/01/03/programando-con-love-2d-textos-de-colores-centrados/'>Programando con Love 2D - Textos de colores centrados</a><p>En el anterior post sobre "Programación con Love 2D" vimos como centrar una imagen. Es&hellip;</p></div></li></ul></div></div><div class="post-pagination section-inner"><div class="previous-post"> <a href="https://mierda.tv/2018/01/01/ver-canales-de-television-espanola-en-el-vlc/" rel="prev"><span>Ver canales de Televisión Española en el vlc</span></a></div><div class="next-post"> <a href="https://mierda.tv/2018/01/02/programando-con-love-2d-mostrar-imagen-centrada/" rel="next"><span>Programando con Love 2D &#8211; Mostrar imagen centrada</span></a></div></div><div class="section-inner wide"><div class="comments"><h3 class="comment-reply-title">4 comentarios</h3><div class="comment even thread-even depth-1" id="li-comment-6755"><div id="comment-6755"><header class="comment-meta"> <span class="comment-author"> <cite> Indian </cite> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/#comment-6755" title="2 enero, 2018 a 8:19 pm">2 enero, 2018</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/?replytocom=6755#respond' onclick='return addComment.moveForm( "comment-6755", "6755", "respond", "4759" )' aria-label='Responder a Indian'>Contestar</a></span></header><div class="comment-content entry-content"><p>Una duda, ¿Qué diferencia hay entre usar la función love.update() sin parámetros como en ejemplos anteriores o con el dt como has hecho aquí.</p></div><div class="comment-actions"></div></div><div class="comment byuser comment-author-mierda bypostauthor odd alt depth-2" id="li-comment-6758"><div id="comment-6758"><header class="comment-meta"> <span class="comment-author"> <cite> <a href='https://linuxinthenight.com/fanta' rel='external nofollow' class='url'>mierda</a> </cite> <span class="comment-by-post-author"> (Autor)</span> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/#comment-6758" title="3 enero, 2018 a 1:07 am">3 enero, 2018</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/?replytocom=6758#respond' onclick='return addComment.moveForm( "comment-6758", "6758", "respond", "4759" )' aria-label='Responder a mierda'>Contestar</a></span></header><div class="comment-content entry-content"><p>dt (delta time).</p><p>Pues la diferencia es que sin el parámetro los coches (rectángulos) muy posiblemente se moverán a una velocidad diferente en diferentes ordenadores.</p><p>Si por ejemplo en un ordenador se consigue una tasa de 60 FPS y en otro de 220 FPS ( frames por segundo) podríamos decir que en 1 segundo en un ordenador se desplazaría el coche más que en otro.</p><p>Y se usa delta time para que la velocidad sea la misma en todos los ordenadores.</p></div><div class="comment-actions"></div></div></div><div class="comment byuser comment-author-mierda bypostauthor even depth-2" id="li-comment-6759"><div id="comment-6759"><header class="comment-meta"> <span class="comment-author"> <cite> <a href='https://linuxinthenight.com/fanta' rel='external nofollow' class='url'>mierda</a> </cite> <span class="comment-by-post-author"> (Autor)</span> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/#comment-6759" title="3 enero, 2018 a 1:25 am">3 enero, 2018</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/?replytocom=6759#respond' onclick='return addComment.moveForm( "comment-6759", "6759", "respond", "4759" )' aria-label='Responder a mierda'>Contestar</a></span></header><div class="comment-content entry-content"><p>Dejo un ejemplo para demostrarlo:</p><p>El delta time como se dice en el post es el tiempo que pasa entre la anterior y la actual actualización. Es el tiempo que transcurre cada vez que se ejecuta la función love.upload().</p><p>Un ordenador que chuta a 100 FPS tendrá un promedio de 0.01 (1 / 100)  delta time (se puede hacer un print(dt) para verlo.<br /> Otro ordenador que chuta a 200 FPS tendrá un promedio de 0.005 (1 / 200) delta time.</p><p>Si suponemos que el incremento del valor de la variable x (la posición) es 10 cada vez que pasa tendrá que ir incrementando 10.<br /> De modo que en un segundo el primer ordenador pasa 100 veces y el segundo ordenador pasa 200 veces. Multiplicamos por eso por delta time para que sea la misma velocidad en todos los ordenadores.</p><p>Espero con esos cálculos se entienda mejor:</p><p><img src="https://mierda.tv/wp-contenido/uploads/2018/01/delta.png"/></p><p>De todos modos creo que el tema merece un post explicándolo con ejemplos. Ahora es tarde.</p></div><div class="comment-actions"></div></div></div></div><div class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-6764"><div id="comment-6764"><header class="comment-meta"> <span class="comment-author"> <cite> Indian </cite> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/#comment-6764" title="3 enero, 2018 a 5:22 pm">3 enero, 2018</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/?replytocom=6764#respond' onclick='return addComment.moveForm( "comment-6764", "6764", "respond", "4759" )' aria-label='Responder a Indian'>Contestar</a></span></header><div class="comment-content entry-content"><p>Vale, entre tu explicación y la wiki de löve ya entiendo como funciona. Se usa para calcular el tiempo que pasa entre un update y el siguiente, este tiempo se puede ir sumando a una variable para que cuando llege a un determinado valor, por ejemplo un segundo ejecute el siguiente paso del juego.</p><p>Gracias por la explicación y por los tutoriales.</p></div><div class="comment-actions"></div></div></div></div><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2018/01/02/programando-con-love-2d-control-de-la-velocidad-de-objetos/#respond" style="display:none;">Cancelar respuesta</a></small></h3><form action="https://mierda.tv/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comentario</label><textarea autocomplete="nope"  id="08503c67c6"  name="08503c67c6"   cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="padding:0;clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "c1239db1070bb54cd9df65bb7732e436" );document.getElementById("08503c67c6").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p><p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p><p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Publicar comentario" /> <input type='hidden' name='comment_post_ID' value='4759' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></p></form></div></div></div><footer class="site-footer section-inner"><p class="copyright">&copy; 2018 <a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></p></footer></main> <script type="text/javascript">jQuery(document).ready( function() { jQuery.post( "https://mierda.tv/wp-admin/admin-ajax.php", { action : "entry_views", _ajax_nonce : "70537a5d8f", post_id : 4759 } ); } );</script> <script type='text/javascript'>var es_widget_page_notices = {"es_email_notice":"Por favor introduce direcci\u00f3n de correo electr\u00f3nico","es_success_message":"Suscripci\u00f3n correcta.","es_success_notice":"\u00a1Suscripci\u00f3n correcta! Consulta tu bandeja de entrada y confirma tu suscripci\u00f3n. Si no ves el correo en unos minutos, consulta la carpeta spam\/correo no deseado.","es_email_exists":"\u00a1Esa direcci\u00f3n de correo electr\u00f3nico ya existe!","es_error":"Ups. Ha sucedido un error inesperado.","es_invalid_email":"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida","es_try_later":"Por favor, int\u00e9ntalo transcurridos unos minutos","es_ajax_url":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php"};</script> <script type='text/javascript'>var mcluhan_ajaxpagination = {"ajaxurl":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php","query_vars":"{\"page\":\"\",\"year\":\"2018\",\"monthnum\":\"01\",\"day\":\"02\",\"name\":\"programando-con-love-2d-control-de-la-velocidad-de-objetos\"}"};</script> <script type="text/javascript" defer src="https://mierda.tv/wp-contenido/cache/autoptimize/js/autoptimize_0f440c40192207511c15447e1fc97710.js"></script></body></html>