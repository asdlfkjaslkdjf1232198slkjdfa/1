<!DOCTYPE html><html class="no-js" lang="es-ES"><head><meta http-equiv="content-type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" ><link rel="profile" href="http://gmpg.org/xfn/11"><link type="text/css" media="all" href="https://mierda.tv/wp-contenido/cache/autoptimize/css/autoptimize_dcbc99a7d03052a28dbf604173960da0.css" rel="stylesheet" /><title>Control de la pulsera Miband en GNU/Linux con python &#8211; [ MIERDA TV ]</title><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Feed" href="https://mierda.tv/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; RSS de los comentarios" href="https://mierda.tv/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Control de la pulsera Miband en GNU/Linux con python RSS de los comentarios" href="https://mierda.tv/2016/09/21/mibanda/feed/" /><link rel='stylesheet' id='mcluhan-fonts-css'  href='https://fonts.googleapis.com/css?family=Archivo:400,400i,600,600i,700,700i&#038;subset=latin-ext' type='text/css' media='all' /> <script type='text/javascript' src='https://mierda.tv/wp-includes/js/jquery/jquery.js'></script> <link rel='https://api.w.org/' href='https://mierda.tv/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mierda.tv/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://mierda.tv/wp-includes/wlwmanifest.xml" /><link rel='prev' title='Taller sobre Mensajería instantánea libre XMPP para colectivos' href='https://mierda.tv/2016/09/18/taller-sobre-mensajeria-instantanea-libre-xmpp-para-colectivos/' /><link rel='next' title='Firefox ejecutándose rápidamente sobre disco RAM' href='https://mierda.tv/2016/09/22/firefox-todo-follado-sobre-disco-ram/' /><meta name="generator" content="WordPress 4.9.8" /><link rel="canonical" href="https://mierda.tv/2016/09/21/mibanda/" /><link rel='shortlink' href='https://mierda.tv/?p=1045' /><link rel="alternate" type="application/json+oembed" href="https://mierda.tv/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmierda.tv%2F2016%2F09%2F21%2Fmibanda%2F" /> <script>jQuery( 'html' ).removeClass( 'no-js' ).addClass( 'js' );</script> <link rel="icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon-1.png" type="image/png"/><link rel="shortcut icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon.png" /></head><body class="post-template-default single single-post postid-1045 single-format-standard"><header class="site-header group"><h1 class="site-title"><a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></h1><p class="site-description">NSFW Fanta text files</p><div class="nav-toggle"><div class="bar"></div><div class="bar"></div></div><div class="menu-wrapper"><ul class="main-menu desktop"><li id="menu-item-9007" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li id="menu-item-9006" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li id="menu-item-9008" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li id="menu-item-9012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li id="menu-item-9011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li id="menu-item-9010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li></ul></div><ul class="social-menu desktop"><li><a href="https://mierda.tv/?s="></a></li><li id="menu-item-10588" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></header><div class="mobile-menu-wrapper"><ul class="main-menu mobile"><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li><li class="toggle-mobile-search-wrapper"><a href="#" class="toggle-mobile-search">Buscar</a></li></ul><ul class="social-menu mobile"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></div><div class="mobile-search"><div class="untoggle-mobile-search"></div><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab6113d8d42"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab6113d8d42" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form><div class="mobile-results"><div class="results-wrapper"></div></div></div><div class="search-overlay"><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab6113d8dda"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab6113d8dda" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form></div><main class="site-content"><article class="post-1045 post type-post status-publish format-standard hentry category-codigo tag-bluetooth tag-linux tag-mi-banda tag-miband tag-python tag-software-linux-miband tag-usb missing-thumbnail"><header class="entry-header section-inner"><h1 class="entry-title">Control de la pulsera Miband en GNU/Linux con python</h2><div class="meta"> <time><a href="https://mierda.tv/2016/09/21/mibanda/" title="21 septiembre, 2016 2:10 pm">21 septiembre, 2016</a></time> <span> En <a href="https://mierda.tv/category/codigo/" rel="category tag"># CODE</a> </span></div></header><div class="entry-content section-inner"><p>Suele ser buena cosa medir lo que andamos pero no suele ser bueno si tenemos que darle esos datos a alguien en china. Xianomi por ejemplo vende unas pulseritas de estas tan de moda por poco precio pero con la feature de que usando su aplicación tendrás que darles demasiada información sin necesidad.</p><p><strong>Tu mismo puedes gestionarte tu propio software para manipular una de estas pulseritas</strong> y puedes no necesitar compartirlo si no quieres por redes sociales. En mi caso <a href="https://linuxinthenight.com/notice/206469">he probado </a>y este es el resultado:</p><p><img class="alignnone size-full wp-image-1064" src="https://mierda.tv/wp-content/uploads/2016/09/mibanda001.png" alt="mibanda001" width="584" height="325" srcset="https://mierda.tv/wp-contenido/uploads/2016/09/mibanda001.png 584w, https://mierda.tv/wp-contenido/uploads/2016/09/mibanda001-300x167.png 300w" sizes="(max-width: 584px) 100vw, 584px" /></p><p>En resumen esto es para los que no quieren pasar por el aro de tener que usar las aplicaciones oficiales y quienes gustan de trastear.</p><h2></h2><h2>Material necesario:</h2><p>Una<strong> pulserita miband</strong> de esas modernas. Puedes conseguir <a href="http://www.banggood.com/es/Original-Xiaomi-Miband-Bluetooth-Smart-Bracelet-For-Mobile-Phone-p-937201.html?p=HF20071954849201507A">aquí</a> una por unos 13 € y gastos de envió gratis.</p><p>&nbsp;</p><p><img class="alignnone wp-image-1062" src="https://mierda.tv/wp-content/uploads/2016/09/mi-band.jpg" alt="mi-band" width="500" height="290" srcset="https://mierda.tv/wp-contenido/uploads/2016/09/mi-band.jpg 675w, https://mierda.tv/wp-contenido/uploads/2016/09/mi-band-300x174.jpg 300w" sizes="(max-width: 500px) 100vw, 500px" /><br /> Un <strong>pincho USB bluetooth mini 4.0.</strong> Por 4 € más o menos lo puedes conseguir <a href="http://www.banggood.com/es/Vention-VAS-S07-Mini-USB-Bluetooth-4_0-Adapter-Dual-Mode-Wireless-Dongle-CSR-4_0-Gold-Plated-p-1037633.html?p=HF20071954849201507A">aquí</a>. Este es el que colocaremos en el ordenador.</p><p><img class="alignnone wp-image-1063" src="https://mierda.tv/wp-content/uploads/2016/09/usb.jpg" alt="usb" width="500" height="500" srcset="https://mierda.tv/wp-contenido/uploads/2016/09/usb.jpg 600w, https://mierda.tv/wp-contenido/uploads/2016/09/usb-150x150.jpg 150w, https://mierda.tv/wp-contenido/uploads/2016/09/usb-300x300.jpg 300w" sizes="(max-width: 500px) 100vw, 500px" /></p><h2>Software necesario</h2><p style="text-align: left;">Lo primero es instalar el modulo mibanda . Esto en Debian puede hacerse cumpliendo las siguientes dependencias.</p><p style="text-align: left;">Instalamos las <strong>dependencias</strong> necesarias:</p><pre># apt-get install python-pip pkg-config libboost-python-dev libboost-thread-dev libglib2.0-dev python-dev libbluetooth-dev
# pip install gattlib
# pip install mibanda</pre><p>&nbsp;</p><p><em><strong>Nota:</strong> &#8220;#&#8221; lo uso cuando es un comando que has de ejecutar como usuario root.</em><br /> <em><strong>Nota:</strong> &#8220;$&#8221; lo uso cuando es un comando que has de ejecutar como usuario normal y corriente :).</em></p><p>&nbsp;</p><p>Aquí documentación sobre la API aquí: <a href="http://oscaracena.bitbucket.org/mibanda/api/">http://oscaracena.bitbucket.org/mibanda/api/</a></p><p>&nbsp;</p><p>En caso de que tengamos más de uno hemos de ver si alguno está bloqueado. Se puede hacer así y desbloquear indicando el número que sale al hacer el list:</p><p>&nbsp;</p><pre>rfkill list
rfkill unblock número
</pre><p>&nbsp;</p><p>Si tenemos ya el tinglado nos podemos hacer un software en python a medida. Aquí por ejemplo algunas de las funciones sencillitas para ir trasteando:</p><pre>import mibanda

sd = mibanda.DiscoveryService()
print sd
device = mibanda.BandDevice("88:0f:10:1E:8f:74", "MI")
print device
device.connect()
direccion = device.getAddress()
print direccion
nombre = device.getName()
print nombre
info = device.getBatteryInfo()
statusinfo = info.status
print statusinfo
statusinfolevel = info.level
print statusinfolevel
statusinfocargas = info.charge_counter
print statusinfocargas
statusinfolast = info.last_charged
print statusinfolast
pasos = device.getSteps()
print pasos
</pre><div class='rp4wp-related-posts'><h3>Más mierda posiblemente relacionada</h3><ul><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2017/04/03/compilar-conversations-desde-gnulinux/'>Compilar Conversations desde GNU/Linux</a><p>Instalamos algunas dependencias: # apt-get install lib32z1 lib32ncurses5 libbz2-1.0 lib32stdc++6 libbz2-dev Descargar e instalar el&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/01/01/dfc-htop-ncdu-en-gnu-linux/'>dfc htop ncdu en GNU/Linux</a><p>Existen muchas más alternativas a df, top y du pero estas creo que son suficientemente&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2017/12/18/dark-forces-sobre-gnu-linux/'>Dark Forces sobre GNU/Linux</a><p>En 1995 uno de los primeros juegos que se vendía en CDROM fue Dark Forces&hellip;</p></div></li></ul></div></div><div class="meta bottom section-inner"><p class="tags"> #<a href="https://mierda.tv/tag/bluetooth/" rel="tag">bluetooth</a> #<a href="https://mierda.tv/tag/linux/" rel="tag">linux</a> #<a href="https://mierda.tv/tag/mi-banda/" rel="tag">mi banda</a> #<a href="https://mierda.tv/tag/miband/" rel="tag">miband</a> #<a href="https://mierda.tv/tag/python/" rel="tag">python</a> #<a href="https://mierda.tv/tag/software-linux-miband/" rel="tag">software linux miband</a> #<a href="https://mierda.tv/tag/usb/" rel="tag">usb</a></p></div><div class="post-pagination section-inner"><div class="previous-post"> <a href="https://mierda.tv/2016/09/18/taller-sobre-mensajeria-instantanea-libre-xmpp-para-colectivos/" rel="prev"><span>Taller sobre Mensajería instantánea libre XMPP para colectivos</span></a></div><div class="next-post"> <a href="https://mierda.tv/2016/09/22/firefox-todo-follado-sobre-disco-ram/" rel="next"><span>Firefox ejecutándose rápidamente sobre disco RAM</span></a></div></div><div class="section-inner wide"><div class="comments"><h3 class="comment-reply-title">3 comentarios</h3><div class="comment even thread-even depth-1" id="li-comment-71"><div id="comment-71"><header class="comment-meta"> <span class="comment-author"> <cite> Vai </cite> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2016/09/21/mibanda/#comment-71" title="21 septiembre, 2016 a 10:26 pm">21 septiembre, 2016</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2016/09/21/mibanda/?replytocom=71#respond' onclick='return addComment.moveForm( "comment-71", "71", "respond", "1045" )' aria-label='Responder a Vai'>Contestar</a></span></header><div class="comment-content entry-content"><p>Tiene pinta de ser divertido trastear con esto. Me guardo el enlace porque me molaria ver lo que puede llegar a ofrecer 🙂</p></div><div class="comment-actions"></div></div></div><div class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-72"><div id="comment-72"><header class="comment-meta"> <span class="comment-author"> <cite> <a href='https://victorhckinthefreeworld.wordpress.com/' rel='external nofollow' class='url'>victorhck</a> </cite> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2016/09/21/mibanda/#comment-72" title="22 septiembre, 2016 a 11:13 am">22 septiembre, 2016</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2016/09/21/mibanda/?replytocom=72#respond' onclick='return addComment.moveForm( "comment-72", "72", "respond", "1045" )' aria-label='Responder a victorhck'>Contestar</a></span></header><div class="comment-content entry-content"><p>Cómo han conseguido la documentación para programar una api? Esos datos están disponibles? Qué bueno!!<br /> Tienes repositorio git en algún sitio para subir tus &#8220;mierdas&#8221; de código? Simple curiosidad&#8230;</p><p>(Léase &#8220;mierdas&#8221; sin acritud 😛 )</p><p>Saludos.</p></div><div class="comment-actions"></div></div><div class="comment byuser comment-author-mierda bypostauthor even depth-2" id="li-comment-73"><div id="comment-73"><header class="comment-meta"> <span class="comment-author"> <cite> <a href='https://linuxinthenight.com/fanta' rel='external nofollow' class='url'>mierda</a> </cite> <span class="comment-by-post-author"> (Autor)</span> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2016/09/21/mibanda/#comment-73" title="22 septiembre, 2016 a 11:23 am">22 septiembre, 2016</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2016/09/21/mibanda/?replytocom=73#respond' onclick='return addComment.moveForm( "comment-73", "73", "respond", "1045" )' aria-label='Responder a mierda'>Contestar</a></span></header><div class="comment-content entry-content"><p><a href="http://allmydroids.blogspot.com.es/2014/12/xiaomi-mi-band-ble-protocol-reverse.html" rel="nofollow">http://allmydroids.blogspot.com.es/2014/12/xiaomi-mi-band-ble-protocol-reverse.html</a> allí se puede ver el trabajo de reverse del protocolo. Luego Oscar Aceña es el que ha creado el modulo mibanda con una buena documentación.</p></div><div class="comment-actions"></div></div></div></div></div><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2016/09/21/mibanda/#respond" style="display:none;">Cancelar respuesta</a></small></h3><form action="https://mierda.tv/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comentario</label><textarea autocomplete="nope"  id="04547ba403"  name="04547ba403"   cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="padding:0;clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "50c0aeb68043775f0554d167480c5728" );document.getElementById("04547ba403").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p><p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p><p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Publicar comentario" /> <input type='hidden' name='comment_post_ID' value='1045' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></p></form></div></div></div><footer class="site-footer section-inner"><p class="copyright">&copy; 2018 <a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></p></footer></main> <script type="text/javascript">jQuery(document).ready( function() { jQuery.post( "https://mierda.tv/wp-admin/admin-ajax.php", { action : "entry_views", _ajax_nonce : "70537a5d8f", post_id : 1045 } ); } );</script> <script type='text/javascript'>var es_widget_page_notices = {"es_email_notice":"Por favor introduce direcci\u00f3n de correo electr\u00f3nico","es_success_message":"Suscripci\u00f3n correcta.","es_success_notice":"\u00a1Suscripci\u00f3n correcta! Consulta tu bandeja de entrada y confirma tu suscripci\u00f3n. Si no ves el correo en unos minutos, consulta la carpeta spam\/correo no deseado.","es_email_exists":"\u00a1Esa direcci\u00f3n de correo electr\u00f3nico ya existe!","es_error":"Ups. Ha sucedido un error inesperado.","es_invalid_email":"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida","es_try_later":"Por favor, int\u00e9ntalo transcurridos unos minutos","es_ajax_url":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php"};</script> <script type='text/javascript'>var mcluhan_ajaxpagination = {"ajaxurl":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php","query_vars":"{\"page\":\"\",\"year\":\"2016\",\"monthnum\":\"09\",\"day\":\"21\",\"name\":\"mibanda\"}"};</script> <script type="text/javascript" defer src="https://mierda.tv/wp-contenido/cache/autoptimize/js/autoptimize_0f440c40192207511c15447e1fc97710.js"></script></body></html>