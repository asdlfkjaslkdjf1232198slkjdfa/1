<!DOCTYPE html><html class="no-js" lang="es-ES"><head><meta http-equiv="content-type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" ><link rel="profile" href="http://gmpg.org/xfn/11"><link type="text/css" media="all" href="https://mierda.tv/wp-contenido/cache/autoptimize/css/autoptimize_dcbc99a7d03052a28dbf604173960da0.css" rel="stylesheet" /><title>Limpieza de Metadatos en Drupal8, WordPress, &#8230; &#8211; [ MIERDA TV ]</title><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Feed" href="https://mierda.tv/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; RSS de los comentarios" href="https://mierda.tv/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Limpieza de Metadatos en Drupal8, WordPress, &#8230; RSS de los comentarios" href="https://mierda.tv/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/feed/" /><link rel='stylesheet' id='mcluhan-fonts-css'  href='https://fonts.googleapis.com/css?family=Archivo:400,400i,600,600i,700,700i&#038;subset=latin-ext' type='text/css' media='all' /> <script type='text/javascript' src='https://mierda.tv/wp-includes/js/jquery/jquery.js'></script> <link rel='https://api.w.org/' href='https://mierda.tv/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mierda.tv/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://mierda.tv/wp-includes/wlwmanifest.xml" /><link rel='prev' title='10 “truquillos” para usuarios/as de GNU/Linux – Vol 6.' href='https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/' /><link rel='next' title='MAT 0.6.1 &#8211; Limpiando metadatos de PDF y que funcione con MAT' href='https://mierda.tv/2017/07/24/mat-0-6-1-limpiando-metadatos-de-pdf-y-que-funcione-con-mat/' /><meta name="generator" content="WordPress 4.9.8" /><link rel="canonical" href="https://mierda.tv/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/" /><link rel='shortlink' href='https://mierda.tv/?p=3207' /><link rel="alternate" type="application/json+oembed" href="https://mierda.tv/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmierda.tv%2F2017%2F07%2F24%2Flimpieza-de-metadatos-en-drupal8-wordpress%2F" /> <script>jQuery( 'html' ).removeClass( 'no-js' ).addClass( 'js' );</script> <link rel="icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon-1.png" type="image/png"/><link rel="shortcut icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon.png" /></head><body class="post-template-default single single-post postid-3207 single-format-standard"><header class="site-header group"><h1 class="site-title"><a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></h1><p class="site-description">NSFW Fanta text files</p><div class="nav-toggle"><div class="bar"></div><div class="bar"></div></div><div class="menu-wrapper"><ul class="main-menu desktop"><li id="menu-item-9007" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li id="menu-item-9006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li id="menu-item-9008" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li id="menu-item-9012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li id="menu-item-9011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li id="menu-item-9010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li></ul></div><ul class="social-menu desktop"><li><a href="https://mierda.tv/?s="></a></li><li id="menu-item-10588" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></header><div class="mobile-menu-wrapper"><ul class="main-menu mobile"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li><li class="toggle-mobile-search-wrapper"><a href="#" class="toggle-mobile-search">Buscar</a></li></ul><ul class="social-menu mobile"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></div><div class="mobile-search"><div class="untoggle-mobile-search"></div><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab60b75ce75"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab60b75ce75" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form><div class="mobile-results"><div class="results-wrapper"></div></div></div><div class="search-overlay"><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab60b75cf0c"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab60b75cf0c" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form></div><main class="site-content"><article class="post-3207 post type-post status-publish format-standard hentry category-sistemas tag-metadatos missing-thumbnail"><header class="entry-header section-inner"><h1 class="entry-title">Limpieza de Metadatos en Drupal8, WordPress, &#8230;</h2><div class="meta"> <time><a href="https://mierda.tv/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/" title="24 julio, 2017 8:38 am">24 julio, 2017</a></time> <span> En <a href="https://mierda.tv/category/sistemas/" rel="category tag"># SYSTEM</a> </span></div></header><div class="entry-content section-inner"><p>En general si usamos <strong>mat (apt-get install mat)</strong> y algunas otras herramientas vamos a poder automatizar la comprobación de los archivos que tenemos subidos en un wordpress y los archivos que tenemos subidos en un drupal con la finalidad de ver cuantos de ellos contienen metadatos que no han sido borrados.</p><p>Si quieres que funcione bien con pdf mira esta entrada: <a href="https://mierda.tv/2017/07/24/mat-0-6-1-limpiando-metadatos-de-pdf-y-que-funcione-con-mat/">https://mierda.tv/2017/07/24/mat-0-6-1-limpiando-metadatos-de-pdf-y-que-funcione-con-mat/</a></p><p>Es poco probable que la gente se ponga cada vez que va a subir un archivo a limpiar los metadatos y es por eso que es bueno que en el lado del servidor dejemos un cron que haga cosas como las que vamos a explicar a continuación.</p><p><strong>¿Qué son los metadatos?</strong></p><p>Por ejemplo un jpg realizado desde una cámara digital o un smartphone llevará algo más que el contenido de la foto. Suelen incluirse en los archivos una serie de cabeceras que incorporan datos como por ejemplo el modelo de la cámara, la coordenada gps, &#8230; o en el caso de software de edición como gimp o photoshop pues pueden incorporar author, el nombre del software de retoque que se ha usado,</p><p>Los archivos PDF por ejemplo suelen llevar metadatos con campos como Author, Creator, &#8230; que suelen desvelar muchas veces el nombre de usuario de las maquinas en las que se generan. Se pueden obtener muchas otras datos de las impresoras usadas.</p><p>Pongamos un chorro de metadatos de ejemplo.</p><p>Un ejemplo en el que vemos que <strong>un PDF incorpora una miniatura de imagen en su interior</strong> y en formato jpg:</p><pre>PDF Version : 1.6
Creator Tool : Adobe Illustrator CS2
Thumbnail Width : 244
Thumbnail Height : 256
Thumbnail Format : JPEG
Thumbnail Image : (Binary data 25874 bytes)
Producer : Adobe PDF library 7.77
</pre><p>&nbsp;</p><p>Antiguamente e incluso en otros formatos como ps se ha usado lo de que el thumbnail esté en el interior del pdf como metadato. Lo interesante de esto es que es posible tener una preview del contenido sin que cueste procesarlo. En la actualidad con los equipos que tiene el personal es posible realizarlo aunque sigue siendo un gasto de ciclos de cpu innecesario.<br /> La cosa es que no es interesante dejar el thumbnail algunas veces.</p><p>Otro ejemplo de pdf:</p><pre>PDF Version : 1.4
Producer : Acrobat Distiller 7.0.5 (Windows)
Creator : Benito camelas Gracia
Company : Ayto. de Noseque sitio
</pre><p>&nbsp;</p><p>Aparte del nombre de un empleado y la empresa podremos obtener de manera indirecta el sistema operativo que utilizan.</p><p>&nbsp;</p><p><strong>Comprobar automáticamente</strong></p><p>&nbsp;</p><p>Un ejemplo usando mat:</p><pre>find /home/user/directorio/sites/default/files/ -name "*.jpg" -exec mat -c {} \; &gt; /home/fanta/jpg-metadatos.txt
</pre><p>&nbsp;</p><p>Cambiamos jpg por png o docx por ejemplo y tendría que comprobar igualmente. Si en vez de volcarlo dejamos que salga por pantalla mejor que mejor.</p><p>mat -c comprobará. con mat -d mostraremos los metadatos sin borrarlos.</p><p>Mat si no le añadimos un argumento se cepillará los metadatos. Por eso es importante primero comprobar cuantos de estos tenemos para poder justificar la limpieza.</p><p>&nbsp;</p><p><strong>Generar una pequeña tabla para añadir a un informe</strong></p><p>&nbsp;</p><p><img class="alignnone size-full wp-image-3210" src="https://mierda.tv/wp-content/uploads/2017/07/Captura-de-pantalla-de-2017-07-24-10-31-58.png" alt="" width="730" height="189" srcset="https://mierda.tv/wp-contenido/uploads/2017/07/Captura-de-pantalla-de-2017-07-24-10-31-58.png 730w, https://mierda.tv/wp-contenido/uploads/2017/07/Captura-de-pantalla-de-2017-07-24-10-31-58-300x78.png 300w" sizes="(max-width: 730px) 100vw, 730px" /></p><p>&nbsp;</p><p>Siempre que podamos es bueno generarnos una tabla para tener presente cuantos metadatos solemos no limpiar de los archivos que se suben a un wordpres, drupal, etc&#8230;</p><p>&nbsp;</p><p><strong>Programarlo en cron</strong></p><p>Eso es lo más interesante al final de cuentas. En Cron lo podemos añadir y disfrutar mientras todas las noches se borran los metadatos.</p><p>&nbsp;</p><p><strong>Resumen</strong></p><p>Mat no puede con todo tipo de archivos pero si con unos cuantos. Con Exiftools vamos a poder trabajar otros y al final el resultado es que lo automatizaremos todo para que por la noche se limpien un poco.</p><p>De esta forma limpiamos un poco y en cierto modo reducimos algo de tamaño en los archivos (muy poco pero en unos cuantos cientos de pdfs empiezan a ser ya megas lo que vas ganando de espacio).</p><p>&nbsp;</p><p>&nbsp;</p><div class='rp4wp-related-posts'><h3>Más mierda posiblemente relacionada</h3><ul><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2016/08/09/10-ocurrencias-recurrentes-con-wordpress/'>10 ocurrencias recurrentes con wordpress</a><p>1. Subiendo contenido que excede del tamaño permitido y que te de un error tras&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/06/08/limpieza-de-primavera-limpieza-virtual/'>Limpieza de primavera - Limpieza virtual</a><p>Las limpiezas son buena cosa siempre. Tanto las que hacemos en casa como las que&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2017/07/24/mat-0-6-1-limpiando-metadatos-de-pdf-y-que-funcione-con-mat/'>MAT 0.6.1 - Limpiando metadatos de PDF y que funcione con MAT</a><p>MAT comenzó a escribirse durante el GSoC 2011 bajo el paraguas del proyecto Tor. Su&hellip;</p></div></li></ul></div></div><div class="meta bottom section-inner"><p class="tags"> #<a href="https://mierda.tv/tag/metadatos/" rel="tag">metadatos</a></p></div><div class="post-pagination section-inner"><div class="previous-post"> <a href="https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/" rel="prev"><span>10 “truquillos” para usuarios/as de GNU/Linux – Vol 6.</span></a></div><div class="next-post"> <a href="https://mierda.tv/2017/07/24/mat-0-6-1-limpiando-metadatos-de-pdf-y-que-funcione-con-mat/" rel="next"><span>MAT 0.6.1 &#8211; Limpiando metadatos de PDF y que funcione con MAT</span></a></div></div><div class="section-inner wide"><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/#respond" style="display:none;">Cancelar respuesta</a></small></h3><form action="https://mierda.tv/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comentario</label><textarea autocomplete="nope"  id="6ef2e09102"  name="6ef2e09102"   cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="padding:0;clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "c3a9dbef3f240840cf4da0e520f85879" );document.getElementById("6ef2e09102").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p><p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p><p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Publicar comentario" /> <input type='hidden' name='comment_post_ID' value='3207' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></p></form></div></div></div><footer class="site-footer section-inner"><p class="copyright">&copy; 2018 <a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></p></footer></main> <script type="text/javascript">jQuery(document).ready( function() { jQuery.post( "https://mierda.tv/wp-admin/admin-ajax.php", { action : "entry_views", _ajax_nonce : "70537a5d8f", post_id : 3207 } ); } );</script> <script type='text/javascript'>var es_widget_page_notices = {"es_email_notice":"Por favor introduce direcci\u00f3n de correo electr\u00f3nico","es_success_message":"Suscripci\u00f3n correcta.","es_success_notice":"\u00a1Suscripci\u00f3n correcta! Consulta tu bandeja de entrada y confirma tu suscripci\u00f3n. Si no ves el correo en unos minutos, consulta la carpeta spam\/correo no deseado.","es_email_exists":"\u00a1Esa direcci\u00f3n de correo electr\u00f3nico ya existe!","es_error":"Ups. Ha sucedido un error inesperado.","es_invalid_email":"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida","es_try_later":"Por favor, int\u00e9ntalo transcurridos unos minutos","es_ajax_url":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php"};</script> <script type='text/javascript'>var mcluhan_ajaxpagination = {"ajaxurl":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php","query_vars":"{\"page\":\"\",\"year\":\"2017\",\"monthnum\":\"07\",\"day\":\"24\",\"name\":\"limpieza-de-metadatos-en-drupal8-wordpress\"}"};</script> <script type="text/javascript" defer src="https://mierda.tv/wp-contenido/cache/autoptimize/js/autoptimize_0f440c40192207511c15447e1fc97710.js"></script></body></html>