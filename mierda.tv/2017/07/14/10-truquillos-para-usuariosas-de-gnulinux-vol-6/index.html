<!DOCTYPE html><html class="no-js" lang="es-ES"><head><meta http-equiv="content-type" content="text/html" charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" ><link rel="profile" href="http://gmpg.org/xfn/11"><link type="text/css" media="all" href="https://mierda.tv/wp-contenido/cache/autoptimize/css/autoptimize_dcbc99a7d03052a28dbf604173960da0.css" rel="stylesheet" /><title>10 “truquillos” para usuarios/as de GNU/Linux – Vol 6. &#8211; [ MIERDA TV ]</title><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; Feed" href="https://mierda.tv/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; RSS de los comentarios" href="https://mierda.tv/comments/feed/" /><link rel="alternate" type="application/rss+xml" title="[ MIERDA TV ] &raquo; 10 “truquillos” para usuarios/as de GNU/Linux – Vol 6. RSS de los comentarios" href="https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/feed/" /><link rel='stylesheet' id='mcluhan-fonts-css'  href='https://fonts.googleapis.com/css?family=Archivo:400,400i,600,600i,700,700i&#038;subset=latin-ext' type='text/css' media='all' /> <script type='text/javascript' src='https://mierda.tv/wp-includes/js/jquery/jquery.js'></script> <link rel='https://api.w.org/' href='https://mierda.tv/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://mierda.tv/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://mierda.tv/wp-includes/wlwmanifest.xml" /><link rel='prev' title='Más de 131.235.139,78 € gastados en software privativo en la comunidad de Madrid desde 2013' href='https://mierda.tv/2017/07/07/mas-de-131-235-13978-e-gastados-en-software-privativo-en-la-comunidad-de-madrid-desde-2013/' /><link rel='next' title='Limpieza de Metadatos en Drupal8, WordPress, &#8230;' href='https://mierda.tv/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/' /><meta name="generator" content="WordPress 4.9.8" /><link rel="canonical" href="https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/" /><link rel='shortlink' href='https://mierda.tv/?p=3178' /><link rel="alternate" type="application/json+oembed" href="https://mierda.tv/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmierda.tv%2F2017%2F07%2F14%2F10-truquillos-para-usuariosas-de-gnulinux-vol-6%2F" /> <script>jQuery( 'html' ).removeClass( 'no-js' ).addClass( 'js' );</script> <link rel="icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon-1.png" type="image/png"/><link rel="shortcut icon" href="https://mierda.tv/wp-contenido/uploads/2017/12/favicon.png" /></head><body class="post-template-default single single-post postid-3178 single-format-standard"><header class="site-header group"><h1 class="site-title"><a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></h1><p class="site-description">NSFW Fanta text files</p><div class="nav-toggle"><div class="bar"></div><div class="bar"></div></div><div class="menu-wrapper"><ul class="main-menu desktop"><li id="menu-item-9007" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li id="menu-item-9006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li id="menu-item-9008" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li id="menu-item-9012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li id="menu-item-9011" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li id="menu-item-9010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li></ul></div><ul class="social-menu desktop"><li><a href="https://mierda.tv/?s="></a></li><li id="menu-item-10588" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></header><div class="mobile-menu-wrapper"><ul class="main-menu mobile"><li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-9007"><a href="https://mierda.tv/category/sistemas/"># SYSTEM</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9006"><a href="https://mierda.tv/category/codigo/"># CODE</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9008"><a href="https://mierda.tv/category/juegos/"># GAMES</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9012"><a href="https://mierda.tv/category/3d/"># 3D</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9011"><a href="https://mierda.tv/category/musica/"># MUSIC</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9010"><a href="https://mierda.tv/category/opinion/"># VIEW</a></li><li class="toggle-mobile-search-wrapper"><a href="#" class="toggle-mobile-search">Buscar</a></li></ul><ul class="social-menu mobile"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10588"><a title="Suscríbete al Boletín mensual de Mierda.tv" href="https://mierda.tv/suscribete-al-boletin-mensual-de-mierda-tv/"><span class="screen-reader-text">Suscríbete al Boletín mensual de Mierda.tv</span></a></li></ul></div><div class="mobile-search"><div class="untoggle-mobile-search"></div><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab60b7d522b"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab60b7d522b" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form><div class="mobile-results"><div class="results-wrapper"></div></div></div><div class="search-overlay"><form role="search" method="get" class="search-form" action="https://mierda.tv/"> <label for="search-form-5bab60b7d52c3"> <span class="screen-reader-text">Búsqueda para:</span> </label> <input type="search" id="search-form-5bab60b7d52c3" class="search-field" placeholder="Introduce tu búsqueda" value="" name="s" autocomplete="off" /> </button></form></div><main class="site-content"><article class="post-3178 post type-post status-publish format-standard hentry category-sistemas tag-chuletas tag-comandos tag-gnu-linux tag-linux tag-tips tag-trucos missing-thumbnail"><header class="entry-header section-inner"><h1 class="entry-title">10 “truquillos” para usuarios/as de GNU/Linux – Vol 6.</h2><div class="meta"> <time><a href="https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/" title="14 julio, 2017 10:12 pm">14 julio, 2017</a></time> <span> En <a href="https://mierda.tv/category/sistemas/" rel="category tag"># SYSTEM</a> </span></div></header><div class="entry-content section-inner"><h3>1. Calcular CPU IDLE porcentaje en base a 10 mediciones</h3><p>Retornará el uso de CPU de todos los cores. Interesa la media y la última columna:</p><p><code><br /> # sar -u 1 10<br /> </code></p><pre>
11:36:28        CPU     %user     %nice   %system   %iowait    %steal     %idle
11:36:29        all      7,75      0,00      2,75      0,75      0,00     88,75
11:36:30        all     19,35      0,00      1,01      5,28      0,00     74,37
11:36:31        all     19,15      0,00      1,00      6,47      0,00     73,38
11:36:32        all     19,85      0,00      0,99      5,46      0,00     73,70
11:36:33        all     24,62      0,00      3,02      5,03      0,00     67,34
Media:          all     18,14      0,00      1,75      4,60      0,00     75,51
</pre><h3>2. Calcular uso % CPU con ps</h3><p><code><br /> ps -A -o pcpu | tail -n+2 | paste -sd+ | bc<br /> </code></p><p>Esto tendría que funcionar más o menos bien aunque es menos fiable que la de antes y puede darte alguna vez valores mayores de 100% (lo cual no es lógico).</p><h3>3. Ordenar resultados de un archivo por número de coincidencias</h3><p>Por ejemplo con los logs de apache para saber que IP ha realizado más peticiones. El truco está en los argumentos de uniq -c y de sort -nr</p><p><code>cat /var/log/apache2/access.log | cut -d " " -f 1 | sort | uniq -c | sort -nr </code></p><h3>4. Número de procesos Zombies</h3><p><code>ps -ef|grep defunt | wc -l</code></p><h3>5. Sincronizar la hora del sistema con un servidor ntp con ntpdate</h3><p><code><br /> # apt-get install ntpdate<br /> # ntpdate -u es.pool.ntp.org<br /> </code></p><h3>6. Cambiar el Prompt en bash</h3><p>Para ver el contenido de la variable:<br /> <code><br /> echo $PS1<br /> </code></p><p>Donde:<br /> \u : username<br /> \h : hostname</p><p>En el .bashrc de nuestro usuario y de root podemos dejar permanentemente el cambio:</p><p><code><br /> PS1='${debian_chroot:+($debian_chroot)}PRE:\w\$ '<br /> </code></p><h3>7. Usa fish en vez de bash si te gustan los autocompletados y los colorines</h3><p><code><br /> # apt-get install fish<br /> $ fish<br /> </code></p><p>Siempre puedes usar bash escribiendo bash en el emulador de terminal. Si tu emulador de terminal es terminator puedes en las opciones de configuración decirle que al inicio ejecute fish (por ejemplo). Lo mismo para otros emuladores de terminal.</p><h3>8. Colores en bash</h3><p>En el archivo .bashrc . De utilidad para por ejemplo darle color al de root y cambiar solamente el Prompt para que se distinga que se está como superuser (pero tener colorines a la hora de listar directorios por ejemplo).</p><p><code><br /> export CLICOLOR='true'<br /> export LSCOLORS="gxfxcxdxbxegedabagacad"<br /> </code></p><h3>9. Colorear salida de grep</h3><p>Es posible también colorerar la salida de las coincidencias de grep:</p><pre>
export GREP_OPTIONS='--color=auto' GREP_COLOR='1;37'
</pre><h3>10. Jugar a Quake 1 en GNU/Linux</h3><p><code><br /> # apt-get install darkplaces<br /> $ wget "http://lavapies.linuxinthenight.com/juegos/Quake1/quake1.tar.gz"<br /> $ tar xfvz quake1.tar.gz<br /> $ cd quake1/<br /> $ darkplaces -game<br /> </code></p><div class='rp4wp-related-posts'><h3>Más mierda posiblemente relacionada</h3><ul><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2017/06/30/10-truquillos-para-usuariosas-de-gnulinux-vol-5/'>10 “truquillos” para usuarios/as de GNU/Linux – Vol 5.</a><p>1. Obtener el color de cualquier cosa que tengamos en pantalla en RGB &nbsp; Se&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2018/01/01/hexen-ii-sobre-gnu-linux-uhexen2/'>Hexen II – Sobre GNU/Linux – uHexen2</a><p>En anteriores posts hemos detallado como puede jugarse a la primera parte de Hexen en&hellip;</p></div></li><li><div class='rp4wp-related-post-content'> <a href='https://mierda.tv/2017/12/31/quake-3-sobre-gnu-linux-ioquake3/'>Quake 3 – Sobre GNU/Linux – ioquake3</a><p>El quake 3 estaba diseñado para jugar en red. A diferencia del quake1 y el&hellip;</p></div></li></ul></div></div><div class="meta bottom section-inner"><p class="tags"> #<a href="https://mierda.tv/tag/chuletas/" rel="tag">chuletas</a> #<a href="https://mierda.tv/tag/comandos/" rel="tag">comandos</a> #<a href="https://mierda.tv/tag/gnu-linux/" rel="tag">gnu linux</a> #<a href="https://mierda.tv/tag/linux/" rel="tag">linux</a> #<a href="https://mierda.tv/tag/tips/" rel="tag">tips</a> #<a href="https://mierda.tv/tag/trucos/" rel="tag">trucos</a></p></div><div class="post-pagination section-inner"><div class="previous-post"> <a href="https://mierda.tv/2017/07/07/mas-de-131-235-13978-e-gastados-en-software-privativo-en-la-comunidad-de-madrid-desde-2013/" rel="prev"><span>Más de 131.235.139,78 € gastados en software privativo en la comunidad de Madrid desde 2013</span></a></div><div class="next-post"> <a href="https://mierda.tv/2017/07/24/limpieza-de-metadatos-en-drupal8-wordpress/" rel="next"><span>Limpieza de Metadatos en Drupal8, WordPress, &#8230;</span></a></div></div><div class="section-inner wide"><div class="comments"><h3 class="comment-reply-title">Un comentario</h3><div class="comment even thread-even depth-1" id="li-comment-1523"><div id="comment-1523"><header class="comment-meta"> <span class="comment-author"> <cite> <a href='https://jordila.librebits.info' rel='external nofollow' class='url'>jordila</a> </cite> </span> <span class="comment-date"> <a class="comment-date-link" href="https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/#comment-1523" title="22 julio, 2017 a 3:45 pm">22 julio, 2017</a> </span> <span class="comment-reply"><a rel='nofollow' class='comment-reply-link' href='https://mierda.tv/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/?replytocom=1523#respond' onclick='return addComment.moveForm( "comment-1523", "1523", "respond", "3178" )' aria-label='Responder a jordila'>Contestar</a></span></header><div class="comment-content entry-content"><p>Amor y Procomún</p></div><div class="comment-actions"></div></div></div></div><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Deja un comentario <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2017/07/14/10-truquillos-para-usuariosas-de-gnulinux-vol-6/#respond" style="display:none;">Cancelar respuesta</a></small></h3><form action="https://mierda.tv/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-form-comment"><label for="comment">Comentario</label><textarea autocomplete="nope"  id="afb275132b"  name="afb275132b"   cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="padding:0;clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "c3a9dbef3f240840cf4da0e520f85879" );document.getElementById("afb275132b").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Nombre <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p><p class="comment-form-email"><label for="email">Correo electrónico <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required='required' /></p><p class="comment-form-url"><label for="url">Web</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Publicar comentario" /> <input type='hidden' name='comment_post_ID' value='3178' id='comment_post_ID' /> <input type='hidden' name='comment_parent' id='comment_parent' value='0' /></p></form></div></div></div><footer class="site-footer section-inner"><p class="copyright">&copy; 2018 <a href="https://mierda.tv" class="site-name">[ MIERDA TV ]</a></p></footer></main> <script type="text/javascript">jQuery(document).ready( function() { jQuery.post( "https://mierda.tv/wp-admin/admin-ajax.php", { action : "entry_views", _ajax_nonce : "70537a5d8f", post_id : 3178 } ); } );</script> <script type='text/javascript'>var es_widget_page_notices = {"es_email_notice":"Por favor introduce direcci\u00f3n de correo electr\u00f3nico","es_success_message":"Suscripci\u00f3n correcta.","es_success_notice":"\u00a1Suscripci\u00f3n correcta! Consulta tu bandeja de entrada y confirma tu suscripci\u00f3n. Si no ves el correo en unos minutos, consulta la carpeta spam\/correo no deseado.","es_email_exists":"\u00a1Esa direcci\u00f3n de correo electr\u00f3nico ya existe!","es_error":"Ups. Ha sucedido un error inesperado.","es_invalid_email":"Direcci\u00f3n de correo electr\u00f3nico no v\u00e1lida","es_try_later":"Por favor, int\u00e9ntalo transcurridos unos minutos","es_ajax_url":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php"};</script> <script type='text/javascript'>var mcluhan_ajaxpagination = {"ajaxurl":"https:\/\/mierda.tv\/wp-admin\/admin-ajax.php","query_vars":"{\"page\":\"\",\"year\":\"2017\",\"monthnum\":\"07\",\"day\":\"14\",\"name\":\"10-truquillos-para-usuariosas-de-gnulinux-vol-6\"}"};</script> <script type="text/javascript" defer src="https://mierda.tv/wp-contenido/cache/autoptimize/js/autoptimize_0f440c40192207511c15447e1fc97710.js"></script></body></html>